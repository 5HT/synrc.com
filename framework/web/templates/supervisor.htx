<code>
 cowboy:start_http(http, 100, [{port, 8000}],
                              [{env, [{dispatch, dispatch_rules()}]}]),


 dispatch_rules() ->
    cowboy_router:compile(
       [{'_', [
            {["/static/[...]"], cowboy_static, [{directory, {priv_dir, ?APP, [<<"static">>]}},
                    {mimetypes, {fun mimetypes:path_to_mimes/2, default}}]}, 
            {["/websocket/[...]"], n2o_websocket, []},
            {'_', n2o_cowboy, []}
    ]}]).

</code>
